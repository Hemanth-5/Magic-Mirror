<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Smart Mirror UI</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        background-color: black;
        color: white;
        margin: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        flex-direction: column;
        text-align: center;
      }

      .time {
        font-size: 4em;
        font-weight: bold;
      }

      .date {
        font-size: 1.5em;
        margin-top: 10px;
      }

      .weather-temp {
        display: flex;
        justify-content: center;
        margin-top: 20px;
        font-size: 2em;
      }

      .weather-temp div {
        margin: 0 20px;
      }

      .microphone-btn {
        margin-top: 30px;
        padding: 20px;
        border-radius: 50%;
        background-color: white;
        cursor: pointer;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .microphone-btn span {
        width: 50px;
        height: 50px;
        background-color: blue;
        border-radius: 50%;
        animation: pulse 1s infinite;
      }

      .listening {
        font-size: 1.5em;
        margin-top: 20px;
        color: lightgray;
      }

      @keyframes pulse {
        0% {
          transform: scale(1);
          opacity: 0.7;
        }
        50% {
          transform: scale(1.2);
          opacity: 1;
        }
        100% {
          transform: scale(1);
          opacity: 0.7;
        }
      }
    </style>
  </head>
  <body>
    <div class="time" id="current-time">--:--:--</div>
    <div class="date" id="current-date">--/--/----</div>

    <div class="weather-temp">
      <div id="weather-temp">--°C</div>
      <div id="sensor-temp">--°C</div>
    </div>

    <div class="microphone-btn" id="mic-btn">
      <span></span>
    </div>

    <div class="listening" id="listening-status">
      Tap the microphone to speak
    </div>

    <script>
      // Function to update time every second
      function updateTime() {
        const now = new Date();
        const time = now.toLocaleTimeString();
        const date = now.toLocaleDateString();
        document.getElementById("current-time").textContent = time;
        document.getElementById("current-date").textContent = date;
      }

      // Function to simulate fetching weather data
      function getWeather() {
        setTimeout(() => {
          const temp = Math.floor(Math.random() * 10 + 20); // Simulate temp between 20 and 30°C
          document.getElementById("weather-temp").textContent = `${temp}°C`;
        }, 2000);
      }

      // Function to simulate fetching sensor temperature data
      function getSensorTemp() {
        setTimeout(() => {
          const sensorTemp = Math.floor(Math.random() * 5 + 25); // Simulate sensor temp between 25 and 30°C
          document.getElementById(
            "sensor-temp"
          ).textContent = `${sensorTemp}°C`;
        }, 2000);
      }

      // Function to simulate microphone interaction
      function toggleMic() {
        const micBtn = document.getElementById("mic-btn");
        const listeningStatus = document.getElementById("listening-status");
        micBtn.style.animation = "none"; // Reset animation on click

        listeningStatus.textContent = "Listening...";
        micBtn.querySelector("span").style.animation = "pulse 1s infinite"; // Start mic pulse

        setTimeout(() => {
          listeningStatus.textContent = "Tap the microphone to speak";
          micBtn.querySelector("span").style.animation = "none";
        }, 5000); // Reset status after 5 seconds
      }

      // Event listener for microphone button click
      document.getElementById("mic-btn").addEventListener("click", toggleMic);

      // Initialize and update the time every second
      setInterval(updateTime, 1000);

      // Simulate weather and sensor temperature fetch every 10 seconds
      setInterval(getWeather, 10000);
      setInterval(getSensorTemp, 10000);
    </script>
  </body>
</html>
